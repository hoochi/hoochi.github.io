!function(i){i(function(){i("#bltsize").hoochiHexBox({type:"word"}).on("newValue",onNewBltsize),i("#_bplcon0").hoochiHexBox({type:"word"}).on("newValue",onNewBplcon0),i("#width").on("change",function(o){var e=getNumber(i(this));0===e&&(e=1024),isNaN(e)||e%16!=0?errorDialog("Invalid number entered."):(e&=63,e=65535&(-64&getCurrentBltsize()|e/16),setBltsize(e.toString(16)))}),i("#height").on("change",function(o){var e=getNumber(i(this));0===e&&(e=1024),isNaN(e)?errorDialog("Invalid number entered."):(e=65535&(-65473&getCurrentBltsize()|e<<6),setBltsize(e.toString(16)))}),i("#_ash").hoochiMinMaxNumberBox({min:0,max:15}).on("newValue",onAshChange),i("#_bltcon0").hoochiHexBox({type:"word"}).on("newValue",onNewBltcon0),i("input[data-source]").on("change",onDataSourceChange),i("#_logic").hoochiHexBox({type:"byte"}).on("newValue",onNewLogicFunction),i("#_bpu").on("change",onBpuChange),i('[data-toggle="tooltip"]').tooltip(),i("#_hires").hoochiBitCheckBox({bit:15,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_ham").hoochiBitCheckBox({bit:11,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_dpf").hoochiBitCheckBox({bit:10,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_color").hoochiBitCheckBox({bit:9,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_gaud").hoochiBitCheckBox({bit:8,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_uhres").hoochiBitCheckBox({bit:7,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_shres").hoochiBitCheckBox({bit:6,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_bypass").hoochiBitCheckBox({bit:5,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_bpu3").hoochiBitCheckBox({bit:4,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_lpen").hoochiBitCheckBox({bit:3,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_lace").hoochiBitCheckBox({bit:2,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_ersy").hoochiBitCheckBox({bit:1,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_ecsena").hoochiBitCheckBox({bit:0,size:16}).on("bitStateChange",onBplcon0BitChange),i("#_dmacon").hoochiHexBox({type:"word"}).on("newValue",onNewDmacon),i("#_dmaconSETCLR").hoochiBitCheckBox({bit:15,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconBLTPRI").hoochiBitCheckBox({bit:10,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconDMAEN").hoochiBitCheckBox({bit:9,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconBPLEN").hoochiBitCheckBox({bit:8,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconCOPEN").hoochiBitCheckBox({bit:7,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconBLTEN").hoochiBitCheckBox({bit:6,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconSPREN").hoochiBitCheckBox({bit:5,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconDSKEN").hoochiBitCheckBox({bit:4,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconAUD3").hoochiBitCheckBox({bit:3,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconAUD2").hoochiBitCheckBox({bit:2,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconAUD1").hoochiBitCheckBox({bit:1,size:16}).on("bitStateChange",onDmaconBitChange),i("#_dmaconAUD0").hoochiBitCheckBox({bit:0,size:16}).on("bitStateChange",onDmaconBitChange)}),onBplcon0BitChange=function(o,e,n){var t=getCurrentBplcon0();i("#_bplcon0").val((e?t|n:t&n).toString(16))},onNewBltsize=function(o,e,n){var t;""!==e?(0===(t=(65472&e)>>6)&&(t=1024),0===(e=2*(63&e)*8)&&(e=1024),i("#width").val(e),i("#height").val(t),i("#total").val(e/8*t)):clearWidthAndHeight()},setTotalBytes=function(){var o=getCurrentBltsize(),e=(65472&o)>>6,o=63&o;0===e&&(e=1024),0===o&&(o=64),i("#total").val(e*o*2)},setBltsize=function(o){i("#bltsize").val(o),setTotalBytes()},getCurrentBltsize=function(){var o=parseInt(i("#bltsize").val(),16);return isNaN(o)?0:o},errorDialog=function(o){i.alert({title:"Error",content:o,type:"dark",animation:"zoom",escapeKey:!0,backgroundDismiss:!0})},getNumber=function(o){return parseInt(o.val(),10)},clearWidthAndHeight=function(){i("#width").val(""),i("#height").val("")},onAshChange=function(o,e){e=(4095&parseInt(i("#_bltcon0").val(),16))+(e<<12);i("#_bltcon0").val(e.toString(16))},onNewBltcon0=function(o,e){i("#_logic").val((255&e).toString(16)),i("#_ash").val((61440&e)>>12),i("#_srca").prop("checked",!!(2048&e)),i("#_srcb").prop("checked",!!(1024&e)),i("#_srcc").prop("checked",!!(512&e)),i("#_srcd").prop("checked",!!(256&e))},onDataSourceChange=function(o){var e=parseInt(i(this).attr("data-source"),16),n=getCurrentBltcon0(),e=i(this).is(":checked")?n|e:n&~e;i("#_bltcon0").val(e.toString(16))},onNewLogicFunction=function(o,e){var n=getCurrentBltcon0();n&=65280,n|=e,i("#_bltcon0").val(n.toString(16))},getCurrentBltcon0=function(){var o=i("#_bltcon0").val();return parseInt(o||0,16)},onNewBplcon0=function(o,e){i("#_hires").prop("checked",32768&e),i("#_ham").prop("checked",2048&e),i("#_dpf").prop("checked",1024&e),i("#_color").prop("checked",512&e),i("#_gaud").prop("checked",256&e),i("#_uhres").prop("checked",128&e),i("#_shres").prop("checked",64&e),i("#_bypass").prop("checked",32&e),i("#_bpu3").prop("checked",16&e),i("#_lpen").prop("checked",8&e),i("#_lace").prop("checked",4&e),i("#_ersy").prop("checked",2&e),i("#_ecsena").prop("checked",1&e);e=(28672&e)>>12;6<e&&(e=6),i("#_bpu").val(e)},getCurrentBplcon0=function(){var o=i("#_bplcon0").val();return parseInt(o||0,16)},onBpuChange=function(o){var e=36863&getCurrentBplcon0(),n=parseInt(i(this).val())<<12;i("#_bplcon0").val((e|n).toString(16))},onNewDmacon=function(o,e){i("#_dmaconSETCLR").prop("checked",32768&e),i("#_dmaconBLTPRI").prop("checked",1024&e),i("#_dmaconDMAEN").prop("checked",512&e),i("#_dmaconBPLEN").prop("checked",256&e),i("#_dmaconCOPEN").prop("checked",128&e),i("#_dmaconBLTEN").prop("checked",64&e),i("#_dmaconSPREN").prop("checked",32&e),i("#_dmaconDSKEN").prop("checked",16&e),i("#_dmaconAUD3").prop("checked",8&e),i("#_dmaconAUD2").prop("checked",4&e),i("#_dmaconAUD1").prop("checked",2&e),i("#_dmaconAUD0").prop("checked",1&e)},onDmaconBitChange=function(o,e,n){var t=getCurrentDmacon();i("#_dmacon").val((e?t|n:t&n).toString(16))},getCurrentDmacon=function(){var o=i("#_dmacon").val();return parseInt(o||0,16)}}((window.index=window.index||{},jQuery));