!function(c){c(function(){c("#bltsize").hoochiHexBox({type:"word"}).on("newValue",onNewBltsize),c("#_bplcon0").hoochiHexBox({type:"word"}).on("newValue",onNewBplcon0),c("#width").on("change",function(o){var e=getNumber(c(this));0===e&&(e=1024),isNaN(e)||e%16!=0?errorDialog("Invalid number entered."):(e&=63,e=65535&(-64&getCurrentBltsize()|e/16),setBltsize(e.toString(16)))}),c("#height").on("change",function(o){var e=getNumber(c(this));0===e&&(e=1024),isNaN(e)?errorDialog("Invalid number entered."):(e=65535&(-65473&getCurrentBltsize()|e<<6),setBltsize(e.toString(16)))}),c("#_ash").hoochiMinMaxNumberBox({min:0,max:15}).on("newValue",onAshChange),c("#_bltcon0").hoochiHexBox({type:"word"}).on("newValue",onNewBltcon0),c("input[data-source]").on("change",onDataSourceChange),c("#_logic").hoochiHexBox({type:"byte"}).on("newValue",onNewLogicFunction),c("#_bpu").on("change",onBpuChange),c('[data-toggle="tooltip"]').tooltip(),c("#_hires").hoochiBitCheckBox({bit:15,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_ham").hoochiBitCheckBox({bit:11,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_dpf").hoochiBitCheckBox({bit:10,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_color").hoochiBitCheckBox({bit:9,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_gaud").hoochiBitCheckBox({bit:8,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_uhres").hoochiBitCheckBox({bit:7,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_shres").hoochiBitCheckBox({bit:6,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_bypass").hoochiBitCheckBox({bit:5,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_bpu3").hoochiBitCheckBox({bit:4,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_lpen").hoochiBitCheckBox({bit:3,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_lace").hoochiBitCheckBox({bit:2,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_ersy").hoochiBitCheckBox({bit:1,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_ecsena").hoochiBitCheckBox({bit:0,size:16}).on("bitStateChange",onBplcon0BitChange),c("#_dmacon").hoochiHexBox({type:"word"}).on("newValue",onNewDmacon),c("#_dmaconSETCLR").hoochiBitCheckBox({bit:15,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconBLTPRI").hoochiBitCheckBox({bit:10,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconDMAEN").hoochiBitCheckBox({bit:9,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconBPLEN").hoochiBitCheckBox({bit:8,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconCOPEN").hoochiBitCheckBox({bit:7,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconBLTEN").hoochiBitCheckBox({bit:6,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconSPREN").hoochiBitCheckBox({bit:5,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconDSKEN").hoochiBitCheckBox({bit:4,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconAUD3").hoochiBitCheckBox({bit:3,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconAUD2").hoochiBitCheckBox({bit:2,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconAUD1").hoochiBitCheckBox({bit:1,size:16}).on("bitStateChange",onDmaconBitChange),c("#_dmaconAUD0").hoochiBitCheckBox({bit:0,size:16}).on("bitStateChange",onDmaconBitChange)}),onBplcon0BitChange=function(o,e,n){var t=getCurrentBplcon0();c("#_bplcon0").val((e?t|n:t&n).toString(16))},onNewBltsize=function(o,e,n){var t;""!==e?(0===(t=(65472&e)>>6)&&(t=1024),0===(e=2*(63&e)*8)&&(e=1024),c("#width").val(e),c("#height").val(t),c("#total").val(e/8*t)):clearWidthAndHeight()},setTotalBytes=function(){var o=getCurrentBltsize(),e=(65472&o)>>6,o=63&o;0===e&&(e=1024),0===o&&(o=64),c("#total").val(e*o*2)},setBltsize=function(o){c("#bltsize").val(o),setTotalBytes()},getCurrentBltsize=function(){var o=parseInt(c("#bltsize").val(),16);return isNaN(o)?0:o},errorDialog=function(o){c.alert({title:"Error",content:o,type:"dark",animation:"zoom",escapeKey:!0,backgroundDismiss:!0})},getNumber=function(o){return parseInt(o.val(),10)},clearWidthAndHeight=function(){c("#width").val(""),c("#height").val("")},onAshChange=function(o,e){e=(4095&parseInt(c("#_bltcon0").val(),16))+(e<<12);c("#_bltcon0").val(e.toString(16))},onNewBltcon0=function(o,e){c("#_logic").val((255&e).toString(16)),c("#_ash").val((61440&e)>>12),c("#_srca").prop("checked",!!(2048&e)),c("#_srcb").prop("checked",!!(1024&e)),c("#_srcc").prop("checked",!!(512&e)),c("#_srcd").prop("checked",!!(256&e))},onDataSourceChange=function(o){var e=parseInt(c(this).attr("data-source"),16),n=getCurrentBltcon0(),e=c(this).is(":checked")?n|e:n&~e;c("#_bltcon0").val(e.toString(16))},onNewLogicFunction=function(o,e){var n=getCurrentBltcon0();n&=65280,n|=e,c("#_bltcon0").val(n.toString(16))},getCurrentBltcon0=function(){var o=c("#_bltcon0").val();return parseInt(o||0,16)},onNewBplcon0=function(o,e){c("#_hires").prop("checked",32768&e),c("#_ham").prop("checked",2048&e),c("#_dpf").prop("checked",1024&e),c("#_color").prop("checked",512&e),c("#_gaud").prop("checked",256&e),c("#_uhres").prop("checked",128&e),c("#_shres").prop("checked",64&e),c("#_bypass").prop("checked",32&e),c("#_bpu3").prop("checked",16&e),c("#_lpen").prop("checked",8&e),c("#_lace").prop("checked",4&e),c("#_ersy").prop("checked",2&e),c("#_ecsena").prop("checked",1&e);e=(28672&e)>>12;6<e&&(e=6),c("#_bpu").val(e)},getCurrentBplcon0=function(){var o=c("#_bplcon0").val();return parseInt(o||0,16)},onBpuChange=function(o){var e=36863&getCurrentBplcon0(),n=parseInt(c(this).val())<<12;c("#_bplcon0").val((e|n).toString(16))},onNewDmacon=function(o,e){c("#_dmaconSETCLR").prop("checked",32768&e),c("#_dmaconBLTPRI").prop("checked",1024&e),c("#_dmaconDMAEN").prop("checked",512&e),c("#_dmaconBPLEN").prop("checked",256&e),c("#_dmaconCOPEN").prop("checked",128&e),c("#_dmaconBLTEN").prop("checked",64&e),c("#_dmaconSPREN").prop("checked",32&e),c("#_dmaconDSKEN").prop("checked",16&e),c("#_dmaconAUD3").prop("checked",8&e),c("#_dmaconAUD2").prop("checked",4&e),c("#_dmaconAUD1").prop("checked",2&e),c("#_dmaconAUD0").prop("checked",1&e)},onDmaconBitChange=function(o,e,n){console.log(e,n);var t=getCurrentDmacon();c("#_dmacon").val((e?t|n:t&n).toString(16))},getCurrentDmacon=function(){var o=c("#_dmacon").val();return parseInt(o||0,16)}}((window.index=window.index||{},jQuery));